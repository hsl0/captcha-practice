!function(){"use strict";(()=>{const t=document.getElementById("answer"),n=document.getElementById("input"),e=document.getElementsByTagName("main")[0],d=document.querySelector("main form"),c=document.getElementById("stat"),u=document.querySelector("#done dd"),o=document.querySelector("#skip dd"),a=document.querySelector(".recent.spent dd"),m=document.querySelector("#first dd"),i=document.querySelector(".recent.keys dd"),s=document.querySelector(".recent.del dd"),r=document.querySelector(".avg.spent dd"),l=document.querySelector(".avg.keys dd"),p=document.querySelector(".min.spent dd"),g=document.querySelector(".max.spent dd"),f=document.querySelector(".min.keys dd"),k=document.querySelector(".max.keys dd"),S=document.querySelector(".accum.del dd"),h=document.querySelector(".max.del dd"),M=document.querySelector("#mistakes dd"),x=document.getElementById("stat-expand");let y="",w=!1;const v=Date.now();let D=null,z=null,A=0,B=0,b=0,j=0,q=0,C=0,E=null,F=0,G=0,H=0,I=null,J=0,K=0,L=0;function N(){return(t=35,n||(n=t,t=0),t=Math.ceil(t),n=Math.floor(n),Math.floor(Math.random()*(n-t+1))+t).toString(36).toUpperCase();var t,n}function O(){y="",t.innerText=function(t=1){let n="";for(;n.length<t;)n+=N();return n}(6),n.value="",e.classList.remove("wrong"),b=0,C=0,z=null}function P(){if(u.innerText=String(A),o.innerText=String(B),z){L++;const t=Date.now()-z;H+=t,I=I?Math.min(I,t):t,J=Math.max(J,t),a.innerText=String(t),r.innerText=(H/L).toFixed(),p.innerText=String(I),g.innerText=String(J),D||(D=z-v,m.innerText=String(D));const n=6e4*C/t;G+=n,E=E?Math.min(E,n):n,F=Math.max(F,n),i.innerText=n.toFixed(),l.innerText=(G/L).toFixed(),f.innerText=E.toFixed(),k.innerText=F.toFixed()}b&&K++,j+=b,q=Math.max(q,b),s.innerText=String(b),M.innerText=String(K),S.innerText=String(j),h.innerText=String(q)}O(),n.addEventListener("keydown",(t=>{"Backspace"===t.key&&(w=!0)})),n.addEventListener("keyup",(t=>{"Backspace"===t.key&&(w=!1)})),n.addEventListener("input",(t=>{const n=t.currentTarget;null!=z||(z=Date.now());let e=n.selectionStart||0;t.inputType.match(/delete/)&&!w&&(n.value=y,e++),n.value.search(/[^0-9A-z]/)>=0&&e--,n.value=n.value.replace(/[^0-9A-z]/g,""),n.value=n.value.toUpperCase(),function(t){if(t<0)b-=t;else if(0===t)return;C++}(n.value.length-y.length),y=n.value,n.setSelectionRange(e,e)})),d.addEventListener("submit",(d=>{d.preventDefault(),t.innerText===n.value.toUpperCase()?(A++,P(),O()):e.classList.add("wrong"),n.focus()}),!0),d.addEventListener("reset",(t=>{B++,P(),O(),n.focus()})),x.addEventListener("click",(t=>{c.classList.contains("expanded")?(c.classList.replace("expanded","collapsed"),x.innerText="자세히"):(c.classList.replace("collapsed","expanded"),x.innerText="간략히")}))})()}();